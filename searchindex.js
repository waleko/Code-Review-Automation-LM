Search.setIndex({"docnames": ["README", "docs/conclusion", "docs/intro", "notebooks/1_collect_reviews", "notebooks/2_inference", "notebooks/3_evaluation"], "filenames": ["README.md", "docs/conclusion.md", "docs/intro.md", "notebooks/1_collect_reviews.ipynb", "notebooks/2_inference.ipynb", "notebooks/3_evaluation.ipynb"], "titles": ["CodeReviewer ML Performance", "&lt;no title&gt;", "CodeReviewer ML Performance", "Collecting Code Review Data", "CodeReviewer Model Inference", "Predictions Evaluation"], "terms": {"thi": [2, 3, 4, 5], "small": 2, "sampl": [2, 5], "book": 2, "give": 2, "you": [2, 3, 4, 5], "feel": 2, "how": [2, 5], "structur": 2, "It": [2, 5], "show": 2, "off": 2, "few": 2, "major": 2, "file": [2, 3, 5], "type": [2, 5], "well": 2, "some": [2, 4], "doe": [2, 5], "go": [2, 5], "depth": 2, "ani": [2, 5], "particular": 2, "topic": 2, "check": [2, 5], "out": [2, 5], "jupyt": [2, 3, 4, 5], "document": 2, "more": [2, 5], "inform": 2, "page": 2, "bundl": 2, "see": [2, 4, 5], "collect": 2, "code": [2, 4, 5], "review": [2, 4], "data": [2, 5], "model": [2, 5], "infer": 2, "predict": 2, "evalu": 2, "p4v": [2, 4], "codebert": 2, "hug": 2, "face": 2, "space": [2, 5], "p4vv37": 2, "url": [2, 5], "http": [2, 4, 5], "huggingfac": 2, "co": [2, 4], "codebert_codereview": 2, "visit": 2, "2023": 2, "09": 2, "13": 2, "llg": [2, 3, 4], "22": [2, 3, 4, 5], "zhiyu": 2, "li": 2, "shuai": 2, "lu": 2, "daya": 2, "guo": 2, "nan": [2, 5], "duan": 2, "shailesh": 2, "jannu": 2, "grant": 2, "jenk": 2, "deep": 2, "majumd": 2, "jare": 2, "green": 2, "alexei": 2, "svyatkovskii": 2, "shengyu": 2, "fu": 2, "other": [2, 3, 5], "pre": 2, "train": 2, "autom": 2, "activ": 2, "arxiv": 2, "preprint": 2, "2203": 2, "09095": 2, "2022": 2, "In": [3, 5], "notebook": 3, "we": [3, 4, 5], "from": [3, 4, 5], "github": [3, 5], "us": [3, 4, 5], "pygithub": 3, "librari": 3, "interact": 3, "api": 3, "getpass": 3, "import": [3, 4, 5], "auth": 3, "panda": [3, 4, 5], "pd": [3, 4, 5], "tqdm": [3, 4, 5], "autonotebook": [3, 4, 5], "c": [3, 5], "user": [3, 5], "akovr": 3, "appdata": 3, "local": 3, "temp": 3, "ipykernel_15472": 3, "323726258": 3, "py": [3, 4, 5], "5": [3, 4, 5], "tqdmexperimentalwarn": 3, "mode": 3, "instead": [3, 5], "forc": 3, "consol": 3, "e": [3, 4, 5], "g": [3, 4], "although": 3, "can": [3, 4, 5], "without": 3, "authent": 3, "need": [3, 5], "increas": 3, "rate": 3, "limit": [3, 5], "access": 3, "token": [3, 5], "enter": 3, "below": 3, "If": [3, 5], "do": [3, 5], "run": 3, "60": 3, "request": [3, 5], "per": 3, "hour": [3, 4], "your": 3, "els": [3, 5], "warn": [3, 5], "possibl": 3, "next": 3, "defin": 3, "function": [3, 5], "repositori": 3, "def": [3, 4, 5], "collect_review": 3, "repo_nam": 3, "str": 3, "num_com": 3, "int": 3, "1000": [3, 5], "skip_author": 3, "true": [3, 4, 5], "allow_thread": 3, "fals": [3, 4, 5], "save": 3, "max_length": [3, 4], "512": [3, 4, 5], "crawl": 3, "repo": 3, "param": [3, 5], "name": [3, 5], "format": 3, "owner": [3, 5], "number": 3, "comment": 3, "load": 3, "skip": 3, "made": [3, 4], "author": [3, 4, 5], "pull": [3, 5], "allow": 3, "ar": [3, 4, 5], "repli": 3, "csv": [3, 4, 5], "maximum": 3, "length": [3, 5], "diff": 3, "hunk": 3, "return": [3, 4, 5], "datafram": [3, 4, 5], "column": [3, 5], "diff_hunk": [3, 4], "human_review": [3, 4], "created_at": 3, "count": 3, "set": [3, 5], "get_repo": 3, "comment_pag": 3, "get_pulls_review_com": 3, "iter": 3, "over": 3, "progress_bar": 3, "total": [3, 5], "len": [3, 4, 5], "have": [3, 4, 5], "enough": 3, "stop": 3, "break": [3, 5], "alreadi": 3, "continu": [3, 5], "too": 3, "long": [3, 4], "get": [3, 5], "commit": 3, "commit_author": 3, "get_git_commit": 3, "commit_id": 3, "add": [3, 4, 5], "along": 3, "ground": 3, "truth": 3, "append": [3, 4], "bodi": [3, 5], "updat": [3, 4, 5], "1": [3, 5], "df": [3, 4, 5], "remov": [3, 5], "keep": 3, "first": [3, 5], "loc": 3, "groupbi": 3, "idxmin": 3, "to_csv": [3, 4], "f": [3, 5], "replac": [3, 5], "_": [3, 5], "final": [3, 5], "follow": [3, 4], "microsoft": [3, 4], "vscode": [3, 5], "jetbrain": 3, "kotlin": [3, 5], "transloadit": [3, 5], "uppi": [3, 5], "i": [3, 4, 5], "chosen": 3, "becaus": [3, 5], "thei": 3, "popular": 3, "larg": 3, "The": [3, 4, 5], "also": [3, 5], "similar": [3, 5], "criteria": 3, "select": 3, "studi": 3, "folder": 3, "addition": 3, "test": [3, 4, 5], "dataset": [3, 5], "zenodo": 3, "avail": [3, 4], "msg": [3, 4, 5], "let": [4, 5], "s": [4, 5], "gener": [4, 5], "pathlib": [4, 5], "path": [4, 5], "numpi": [4, 5], "np": [4, 5], "torch": 4, "util": [4, 5], "dataload": 4, "transform": 4, "autotoken": 4, "automodelforseq2seqlm": 4, "opt": [4, 5], "conda": [4, 5], "lib": [4, 5], "python3": [4, 5], "8": [4, 5], "site": [4, 5], "packag": [4, 5], "auto": [4, 5], "tqdmwarn": [4, 5], "iprogress": [4, 5], "found": [4, 5], "pleas": [4, 5], "ipywidget": [4, 5], "readthedoc": [4, 5], "io": [4, 5], "en": [4, 5], "stabl": [4, 5], "user_instal": [4, 5], "html": [4, 5], "notebook_tqdm": [4, 5], "p": [4, 5], "enorm": 4, "thank": 4, "provid": [4, 5], "open": 4, "sourc": [4, 5], "work": [4, 5], "download": 4, "from_pretrain": 4, "requir": [4, 5], "special": 4, "process_token": 4, "okenizer_config": 4, "json": 4, "100": 4, "29k": 4, "00": 4, "169kb": 4, "olv": 4, "main": 4, "vocab": 4, "575k": 4, "89mb": 4, "merg": 4, "txt": 4, "294k": 4, "09mb": 4, "added_token": 4, "87k": 4, "13mb": 4, "cial_tokens_map": 4, "913": 4, "515kb": 4, "class": [4, 5], "reviewsdataset": 4, "__init__": 4, "self": 4, "y": 4, "x": [4, 5], "tensor": 4, "appli": 4, "lambda": 4, "row": 4, "encode_diff": 4, "axi": 4, "dtype": 4, "cpu": 4, "__len__": 4, "__getitem__": 4, "idx": 4, "here": [4, 5], "creat": 4, "each": [4, 5], "project": 4, "filenam": 4, "jetbrains_kotlin_1000": [4, 5], "microsoft_vscode_1000": [4, 5], "transloadit_uppy_1000": [4, 5], "read_csv": [4, 5], "batch_siz": 4, "16": [4, 5], "shuffl": 4, "6": [4, 5], "8gb": 4, "gpu": 4, "now": [4, 5], "two": 4, "devic": 4, "cuda": 4, "eval": 4, "result": 4, "inputs_mask": 4, "ne": 4, "pad_id": 4, "pred": [4, 5], "attention_mask": 4, "use_cach": 4, "num_beam": 4, "early_stop": 4, "num_return_sequ": 4, "decod": 4, "preds_np": 4, "detach": 4, "preds_decod": 4, "apply_along_axi": 4, "skip_special_token": 4, "clean_up_tokenization_spac": 4, "list": [4, 5], "hub": 4, "pretrain": 4, "hf_model": 4, "zip": 4, "df_pred": 4, "target": [4, 5], "with_suffix": [4, 5], "hf_pred": [4, 5], "head": 4, "lve": 4, "config": 4, "13k": 4, "478kb": 4, "pytorch_model": 4, "bin": 4, "892m": 4, "02": 4, "306mb": 4, "neration_config": 4, "168": 4, "36": 4, "7kb": 4, "636": 4, "11": 4, "08": 4, "05": 4, "63": 4, "03": 4, "31": 4, "35": 4, "01": 4, "57": 4, "87": 4, "39": [4, 5], "53": 4, "task": [4, 5], "instruct": 4, "For": [4, 5], "paramet": 4, "learning_r": 4, "3e": 4, "4": [4, 5], "max_source_length": 4, "took": 4, "about": 4, "12": [4, 5], "singl": 4, "nvidia": 4, "geforc": 4, "a100": 4, "wa": 4, "epoch": 4, "waleko": 4, "finetun": 4, "ft_model": 4, "finetuned_pr": [4, 5], "290kb": 4, "4mb": 4, "weight": 4, "were": 4, "when": 4, "initi": 4, "t5forconditionalgener": 4, "cls_head": 4, "bia": 4, "IS": 4, "expect": 4, "anoth": 4, "architectur": 4, "bertforsequenceclassif": 4, "bertforpretrain": 4, "NOT": 4, "exactli": 4, "ident": 4, "49": 4, "2kb": 4, "15": 4, "58": 4, "51": 4, "41": [4, 5], "61": 4, "32": 4, "47": 4, "27": 4, "smooth_bleu": 5, "bleu_fromstr": 5, "analyze_pr": 5, "base_fil": 5, "sample_s": 5, "read": 5, "hf_preds_fil": 5, "fine_tuned_fil": 5, "fine_tun": 5, "put": 5, "fine_tuned_pr": 5, "regex": 5, "print": 5, "to_numpi": 5, "hf": 5, "fine": 5, "tune": 5, "calc_bleu": 5, "ref": 5, "rang": 5, "char": 5, "join": 5, "split": 5, "rmstop": 5, "calc_bleu_scor": 5, "ft_pred": 5, "inplac": 5, "hf_bleu": 5, "ft_bleu": 5, "bleu": 5, "compar": 5, "four": 5, "20": 5, "10": 5, "pylint": 5, "checker": 5, "interfac": 5, "_is_constant_empty_str": 5, "node": 5, "isinst": 5, "const": 5, "valu": 5, "comparetoemptystringcheck": 5, "basecheck": 5, "comparison": 5, "empti": 5, "string": 5, "most": 5, "time": 5, "should": 5, "fact": 5, "why": 5, "helper": 5, "isn": 5, "t": 5, "anywher": 5, "place": 5, "14": 5, "7": 5, "net": 5, "sourceforg": 5, "pmd": 5, "ruleviol": 5, "A": 5, "link": 5, "implement": 5, "immut": 5, "therefor": 5, "cach": 5, "friendli": 5, "public": 5, "cachedruleviol": 5, "privat": 5, "cachedrulemapp": 5, "mapper": 5, "did": 5, "modif": 5, "225": 5, "18": 5, "bokehplot": 5, "dimensionedplot": 5, "converted_data": 5, "stream": 5, "determin": 5, "cd": 5, "full": 5, "simpli": 5, "done": 5, "whether": 5, "newli": 5, "ad": 5, "same": 5, "new_length": 5, "v": 5, "ndarrai": 5, "not_upd": 5, "k": 5, "new": 5, "n": 5, "0": 5, "don": 5, "think": 5, "right": 5, "wai": 5, "o": 5, "eric89gxl": 5, "mluessi": 5, "128": 5, "restrequest": 5, "method": 5, "post": 5, "delet": 5, "etc": 5, "uri": 5, "automat": 5, "resolv": 5, "against": 5, "current": 5, "instanc": 5, "host": 5, "httpentiti": 5, "one": 5, "null": 5, "requestent": 5, "restmethod": 5, "chang": 5, "37": 5, "modul": 5, "selenium": 5, "bridge_class": 5, "bridg": 5, "end": 5, "print_pag": 5, "option": 5, "page_rang": 5, "arrai": 5, "driver": 5, "firefox": 5, "webdriv": 5, "extra": 5, "line": 5, "de": 5, "2": 5, "indent": 5, "an": 5, "expr": 5, "1127": 5, "1134": 5, "registri": 5, "eslint": 5, "stylish": 5, "applyto": 5, "applytokind": 5, "alldocu": 5, "fileloc": 5, "filelocationkind": 5, "absolut": 5, "pattern": 5, "defaultpattern": 5, "No": 5, "newlin": 5, "typescript": 5, "rel": 5, "fileprefix": 5, "cwd": 5, "am": 5, "sure": 5, "good": 5, "idea": 5, "make": 5, "me": 5, "wonder": 5, "shoul": 5, "46": 5, "xml": 5, "version": 5, "encod": 5, "utf": 5, "compon": 5, "desktop": 5, "id": 5, "metadata_licens": 5, "cc": 5, "BY": 5, "sa": 5, "3": 5, "project_licens": 5, "mit": 5, "name_long": 5, "homepag": 5, "visualstudio": 5, "com": 5, "summari": 5, "editor": 5, "develop": 5, "support": 5, "integr": 5, "exist": 5, "tool": 5, "descript": 5, "visual": 5, "studio": 5, "lightweight": 5, "power": 5, "which": 5, "na": 5, "onli": 5, "171": 5, "export": 5, "distinct": 5, "keyfn": 5, "fn": 5, "item": 5, "boolean": 5, "notfoundvalu": 5, "element": 5, "wouldn": 5, "clearer": 5, "iworkspacecontextservic": 5, "vs": 5, "platform": 5, "workspac": 5, "common": 5, "iworkbenchcontribut": 5, "iworkbenchcontributionsregistri": 5, "extens": 5, "workbenchextens": 5, "workbench": 5, "contribut": 5, "iworkbenchcontrib": 5, "somewher": 5, "74": 5, "inexteditorgroupsaccessor": 5, "getgroup": 5, "identifi": 5, "groupidentifi": 5, "inexteditorgroupview": 5, "addgroup": 5, "locat": 5, "direct": 5, "groupdirect": 5, "iaddgroupopt": 5, "inexteditorgroup": 5, "removegroup": 5, "void": 5, "178": 5, "181": 5, "abstract": 5, "abstractdebugtest": 5, "codegentestcas": 5, "var": 5, "inboxmethod": 5, "vmloop": 5, "while": 5, "val": 5, "eventset": 5, "virtualmachin": 5, "eventqueu": 5, "fix": 5, "bug": 5, "describ": 5, "th": 5, "kara": 5, "intern": 5, "typo": 5, "descr": 5, "word": 5, "somth": 5, "fun": 5, "wrte": 5, "childen": 5, "unused_vari": 5, "variabl": 5, "come": 5, "never": 5, "children": 5, "ignore_backend": 5, "jvm": 5, "kotlin_configuration_flag": 5, "assertions_mod": 5, "outer": 5, "inner": 5, "assert": 5, "statu": 5, "base": 5, "top": 5, "level": 5, "ldc": 5, "louter": 5, "clinit": 5, "invokevirtu": 5, "java": 5, "lang": 5, "desiredassertionstatu": 5, "z": 5, "putstat": 5, "assertionsdis": 5, "getstat": 5, "Is": 5, "reason": 5, "doesn": 5, "src": 5, "247": 5, "245": 5, "indiceshandl": 5, "protect": 5, "context": 5, "commonbackendcont": 5, "arrayindiceshandl": 5, "commonbackendcontext": 5, "arraybackend": 5, "17": 5, "diagnost": 5, "unused_paramet": 5, "overloads_priv": 5, "overload": 5, "foo": 5, "ok": 5, "d": 5, "object": 5, "shouldn": 5, "expecterror": 5, "expecttyp": 5, "tsd": 5, "defaultstor": 5, "store": 5, "default": 5, "uiplugin": 5, "successrespons": 5, "uppyfil": 5, "uploadeduppyfil": 5, "faileduppyfil": 5, "pluginopt": 5, "ex": 5, "what": 5, "1076": 5, "currentprogress": 5, "getfil": 5, "progress": 5, "setfilest": 5, "assign": 5, "postprocess": 5, "postprocessor": 5, "getpostprocessor": 5, "w": 5, "681": 5, "tu": 5, "extend": 5, "plugin": 5, "reset": 5, "handleresetprogress": 5, "autoretri": 5, "log": 5, "mai": 5, "2347": 5, "altern": 5, "b": 5, "broken": 5, "142": 5, "dragdrop": 5, "restrict": 5, "input": 5, "matter": 5, "prefix": 5, "ar_sa": 5, "\u0627\u0644\u062a\u0634\u0641\u064a\u0631": 5, "entercorrecturl": 5, "\u062e\u0637\u0623": 5, "\u0641\u064a": 5, "\u0627\u0644\u0631\u0627\u0628\u0637": 5, "\u0627\u0631\u062c\u0648": 5, "\u0627\u0644\u062a\u0623\u0643\u062f": 5, "\u0645\u0646": 5, "\u0627\u062f\u062e\u0627\u0644": 5, "\u0631\u0627\u0628\u0637": 5, "\u0645\u0628\u0627\u0634\u0631": 5, "\u0644\u0644\u0645\u0644\u0641": 5, "enterurltoimport": 5, "\u0627\u062f\u062e\u0644": 5, "\u0644\u0627\u0633\u062a\u064a\u0631\u0627\u062f": 5, "\u0627\u0644\u0645\u0644\u0641\u0627\u062a": 5, "exceedss": 5, "\u0627\u0644\u0645\u0644\u0641": 5, "\u0627\u0643\u0628\u0631": 5, "\u0627\u0644\u062d\u062c\u0645": 5, "\u0627\u0644\u0645\u0633\u0645\u0648\u062d": 5, "size": 5, "As": 5, "produc": 5, "better": 5, "than": 5, "much": 5, "insight": 5, "detail": 5, "tend": 5, "specif": 5, "thing": 5, "weird": 5, "codereview": 5, "sometim": 5, "cut": 5, "shown": 5, "due": 5, "sentenc": 5, "pretti": 5, "high": 5, "unfortun": 5, "up": 5, "futur": 5, "figur": 5, "behind": 5, "calcul": 5, "score": 5, "measur": 5, "higher": 5, "10169": 5, "25": 5, "71": 5, "91": 5, "84": 5, "perform": 5, "all": 5, "nevertheless": 5, "still": 5, "low": 5, "mean": 5, "hard": 5, "semant": 5}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"codereview": [0, 2, 4], "ml": [0, 2], "perform": [0, 2], "tabl": 2, "content": 2, "bibliographi": 2, "collect": 3, "code": 3, "review": 3, "data": [3, 4], "model": 4, "infer": 4, "1": 4, "token": 4, "dataset": 4, "2": 4, "load": 4, "3": 4, "predict": [4, 5], "function": 4, "huggingfac": 4, "pre": 4, "train": 4, "checkpoint": 4, "fine": 4, "tune": 4, "evalu": 5, "qualit": 5, "quantit": 5}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinxcontrib.bibtex": 9, "sphinx": 56}})